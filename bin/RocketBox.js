var i=void 0,k=null,n,o=this;
function p(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function aa(a){var b=p(a);return b=="array"||b=="object"&&typeof a.length=="number"}function q(a){return typeof a=="string"}function ba(a){var b=typeof a;return b=="object"&&a!=k||b=="function"}var r="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),s=0;function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function da(a,b,c){if(!a)throw Error();if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}function t(a,b,c){t=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ca:da;return t.apply(k,arguments)}
function ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};function fa(a){if(!ga.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(ha,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(ia,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(ja,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(ka,"&quot;"));return a}var ha=/&/g,ia=/</g,ja=/>/g,ka=/\"/g,ga=/[&<>\"]/;function u(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}function la(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var w=Array.prototype,ma=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:c<0?Math.max(0,a.length+c):c;if(q(a))return!q(b)||b.length!=1?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},na=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,g=q(a)?a.split(""):a,d=0;d<e;d++)d in g&&b.call(c,g[d],d,a)};function oa(a){var b=a.length;if(b>0){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]}
function pa(a,b,c){return arguments.length<=2?w.slice.call(a,b):w.slice.call(a,b,c)};function qa(){this.s={}}qa.prototype={P:function(a){this.s||(this.s={});this.s[a]||(this.s[a]=[]);return this.s[a]},S:function(a,b,c){this.g("LOG","Events: Listener Attached: "+a);a=this.P(a);c&&(b=t(b,c));a.push(b)},g:function(a,b){a!=="LOG"&&a!=="APP:TICK"&&a!=="CURSOR:MOVE"&&a!=="MOUSE:MOVE"&&a!=="KEYBOARD:KEY"&&this.g("LOG","Events: Fired: "+a,b);na(this.P(a),function(a){a.apply(k,!b?[]:typeof b=="array"?b:[b])})}};function ra(a){this.b=a.b;this.H=this.o=i;this.h=[];this.O=0;this.G=a&&a.G?a.G:1;this.c=a&&a.c?a.c:30;this.z=a&&a.z?a.z:"TICK";this.L=0;this.n=!1}
ra.prototype={play:function(){this.W();this.n=!0;this.ca=setInterval(t(this.W,this),1E3/this.c)},pause:function(){clearInterval(this.ca);this.n=!1;this.o=i},W:function(){this.H=(new Date).getTime();var a=!this.o?0:this.H-this.o;this.o&&a>0&&(a>1E3/this.c&&(a=1E3/this.c),this.L+=a/100);this.b.g(this.z,{dt:a,fps:this.O,counter:this.L,speed:this.G});if(this.o&&a>0&&(this.h.push(1E3/a),this.h.length>this.c)){for(var b=a=0,c=this.h.length;b<c;b++)a+=this.h[b];this.O=Math.round(a/this.h.length);this.h=
[]}this.o=this.H}};var x,y,z,A;function sa(){return o.navigator?o.navigator.userAgent:k}A=z=y=x=!1;var B;if(B=sa()){var ta=o.navigator;x=B.indexOf("Opera")==0;y=!x&&B.indexOf("MSIE")!=-1;z=!x&&B.indexOf("WebKit")!=-1;A=!x&&!z&&ta.product=="Gecko"}var ua=x,C=y,D=A,F=z,va=o.navigator,wa=(va&&va.platform||"").indexOf("Mac")!=-1,G;
a:{var H="",I;if(ua&&o.opera)var J=o.opera.version,H=typeof J=="function"?J():J;else if(D?I=/rv\:([^\);]+)(\)|;)/:C?I=/MSIE\s+([^\);]+)(\)|;)/:F&&(I=/WebKit\/(\S+)/),I)var xa=I.exec(sa()),H=xa?xa[1]:"";if(C){var K,ya=o.document;K=ya?ya.documentMode:i;if(K>parseFloat(H)){G=String(K);break a}}G=H}var za={};
function L(a){var b;if(!(b=za[a])){b=0;for(var c=String(G).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(c.length,e.length),d=0;b==0&&d<g;d++){var f=c[d]||"",h=e[d]||"",j=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var E=j.exec(f)||["","",""],l=m.exec(h)||["","",""];if(E[0].length==0&&l[0].length==0)break;b=u(E[1].length==0?0:parseInt(E[1],10),l[1].length==0?0:parseInt(l[1],10))||u(E[2].length==0,l[2].length==
0)||u(E[2],l[2])}while(b==0)}b=za[a]=b>=0}return b}var Aa={};function M(){return Aa[9]||(Aa[9]=C&&!!document.documentMode&&document.documentMode>=9)};function Ba(a,b){for(var c in a)b.call(i,a[c],c,a)}var Ca="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Da(a,b){for(var c,e,g=1;g<arguments.length;g++){e=arguments[g];for(c in e)a[c]=e[c];for(var d=0;d<Ca.length;d++)c=Ca[d],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};function Ea(a,b){var c;c=a.className;c=q(c)&&c.match(/\S+/g)||[];for(var e=pa(arguments,1),g=c.length+e.length,d=c,f=0;f<e.length;f++)ma(d,e[f])>=0||d.push(e[f]);a.className=c.join(" ");return c.length==g};var Fa=!C||M();!D&&!C||C&&M()||D&&L("1.9.1");C&&L("9");function Ga(a,b){Ba(b,function(b,e){e=="style"?a.style.cssText=b:e=="class"?a.className=b:e=="for"?a.htmlFor=b:e in Ha?a.setAttribute(Ha[e],b):e.lastIndexOf("aria-",0)==0||e.lastIndexOf("data-",0)==0?a.setAttribute(e,b):a[e]=b})}var Ha={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function N(a,b,c){var e=arguments,g=document,d=e[0],f=e[1];if(!Fa&&f&&(f.name||f.type)){d=["<",d];f.name&&d.push(' name="',fa(f.name),'"');if(f.type){d.push(' type="',fa(f.type),'"');var h={};Da(h,f);f=h;delete f.type}d.push(">");d=d.join("")}d=g.createElement(d);if(f)q(f)?d.className=f:p(f)=="array"?Ea.apply(k,[d].concat(f)):Ga(d,f);e.length>2&&Ia(g,d,e);return d}
function Ia(a,b,c){function e(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var d=c[g];if(aa(d)&&!(ba(d)&&d.nodeType>0)){var f;a:{if(d&&typeof d.length=="number")if(ba(d)){f=typeof d.item=="function"||typeof d.item=="string";break a}else if(p(d)=="function"){f=typeof d.item=="function";break a}f=!1}na(f?oa(d):d,e)}else e(d)}};function O(a,b){q(b)?Ja(a,i,b):Ba(b,ea(Ja,a))}function Ja(a,b,c){a.style[la(c)]=b};function Ka(){}var La=0;n=Ka.prototype;n.key=0;n.m=!1;n.J=!1;n.i=function(a,b,c,e,g,d){if(p(a)=="function")this.R=!0;else if(a&&a.handleEvent&&p(a.handleEvent)=="function")this.R=!1;else throw Error("Invalid listener argument");this.u=a;this.U=b;this.src=c;this.type=e;this.capture=!!g;this.Q=d;this.J=!1;this.key=++La;this.m=!1};n.handleEvent=function(a){return this.R?this.u.call(this.Q||this.src,a):this.u.handleEvent.call(this.u,a)};!C||M();var Ma=!C||M(),Na=C&&!L("8");!F||L("528");D&&L("1.9b")||C&&L("8")||ua&&L("9.5")||F&&L("528");D&&!L("8")||C&&L("9");function P(a,b){this.type=a;this.currentTarget=this.target=b}P.prototype.F=!1;P.prototype.M=!1;P.prototype.ga=!0;P.prototype.preventDefault=function(){this.M=!0;this.ga=!1};function Oa(a){Oa[" "](a);return a}Oa[" "]=function(){};function Q(a,b){a&&this.i(a,b)}(function(){function a(){}a.prototype=P.prototype;Q.ha=P.prototype;Q.prototype=new a})();n=Q.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.fa=!1;n.N=k;
n.i=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(D){var g;a:{try{Oa(e.nodeName);g=!0;break a}catch(d){}g=!1}g||(e=k)}}else if(c=="mouseover")e=a.fromElement;else if(c=="mouseout")e=a.toElement;this.relatedTarget=e;this.offsetX=F||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=F||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.fa=wa?a.metaKey:a.ctrlKey;this.state=a.state;this.N=a;a.M&&this.preventDefault();delete this.F};
n.preventDefault=function(){Q.ha.preventDefault.call(this);var a=this.N;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Na)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}};var R={},T={},U={},W={};
function X(a,b,c,e,g){if(b)if(p(b)=="array")for(var d=0;d<b.length;d++)X(a,b[d],c,e,g);else{var e=!!e,f=T;b in f||(f[b]={d:0,f:0});f=f[b];e in f||(f[e]={d:0,f:0},f.d++);var f=f[e],h=a[r]||(a[r]=++s),j;f.f++;if(f[h]){j=f[h];for(d=0;d<j.length;d++)if(f=j[d],f.u==c&&f.Q==g){if(f.m)break;return}}else j=f[h]=[],f.d++;d=Pa();d.src=a;f=new Ka;f.i(c,d,a,b,e,g);c=f.key;d.key=c;j.push(f);R[c]=f;U[h]||(U[h]=[]);U[h].push(f);a.addEventListener?(a==o||!a.ba)&&a.addEventListener(b,d,e):a.attachEvent(b in W?W[b]:
W[b]="on"+b,d)}else throw Error("Invalid event type");}function Pa(){var a=Qa,b=Ma?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function Ra(a,b,c,e){if(!e.v&&e.T){for(var g=0,d=0;g<e.length;g++)e[g].m?e[g].U.src=k:(g!=d&&(e[d]=e[g]),d++);e.length=d;e.T=!1;d==0&&(delete T[a][b][c],T[a][b].d--,T[a][b].d==0&&(delete T[a][b],T[a].d--),T[a].d==0&&delete T[a])}}
function Sa(a,b,c,e,g){var d=1,b=b[r]||(b[r]=++s);if(a[b]){a.f--;a=a[b];a.v?a.v++:a.v=1;try{for(var f=a.length,h=0;h<f;h++){var j=a[h];j&&!j.m&&(d&=Ta(j,g)!==!1)}}finally{a.v--,Ra(c,e,b,a)}}return Boolean(d)}
function Ta(a,b){if(a.J){var c=a.key;if(R[c]){var e=R[c];if(!e.m){var g=e.src,d=e.type,f=e.U,h=e.capture;g.removeEventListener?(g==o||!g.ba)&&g.removeEventListener(d,f,h):g.detachEvent&&g.detachEvent(d in W?W[d]:W[d]="on"+d,f);g=g[r]||(g[r]=++s);if(U[g]){var f=U[g],j=ma(f,e);j>=0&&w.splice.call(f,j,1);f.length==0&&delete U[g]}e.m=!0;if(e=T[d][h][g])e.T=!0,Ra(d,h,g,e);delete R[c]}}}return a.handleEvent(b)}
function Qa(a,b){if(!R[a])return!0;var c=R[a],e=c.type,g=T;if(!(e in g))return!0;var g=g[e],d,f;if(!Ma){var h;if(!(h=b))a:{h="window.event".split(".");for(var j=o;d=h.shift();)if(j[d]!=k)j=j[d];else{h=k;break a}h=j}d=h;h=!0 in g;j=!1 in g;if(h){if(d.keyCode<0||d.returnValue!=i)return!0;a:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break a}catch(E){m=!0}if(m||d.returnValue==i)d.returnValue=!0}}m=new Q;m.i(d,this);d=!0;try{if(h){for(var l=[],S=m.currentTarget;S;S=S.parentNode)l.push(S);f=g[!0];f.f=f.d;
for(var v=l.length-1;!m.F&&v>=0&&f.f;v--)m.currentTarget=l[v],d&=Sa(f,l[v],e,!0,m);if(j){f=g[!1];f.f=f.d;for(v=0;!m.F&&v<l.length&&f.f;v++)m.currentTarget=l[v],d&=Sa(f,l[v],e,!1,m)}}else d=Ta(c,m)}finally{if(l)l.length=0}return d}e=new Q(b,this);return d=Ta(c,e)};var Va=Ua,Y="RocketBox".split("."),Z=o;!(Y[0]in Z)&&Z.execScript&&Z.execScript("var "+Y[0]);for(var $;Y.length&&($=Y.shift());)!Y.length&&Va!==i?Z[$]=Va:Z=Z[$]?Z[$]:Z[$]={};
function Ua(a,b){this.A=a;if(!this.A)this.A={initalise:function(){}};this.options={id:i,title:i,description:i,autoPlay:!0,fps:30,width:480,height:320};Da(this.options,b);this.K=i;this.a={};this.r={da:"&#9658;",j:"&#9658; PLAY",ea:"&#10073;&#10073; PAUSE",$:"DEMO"};this.B={Z:"APP:TICK",Y:"APP:PLAY",X:"APP:PAUSE"};this.b=new qa;this.p=new ra({b:this.b,c:this.options.fps,z:this.B.Z});this.i()}
Ua.prototype={i:function(){this.b.S("APP:TICK",this.I,this);this.aa();this.A.initalise({canvas:this.a.canvas,canvasContext:this.K,events:{fire:t(this.b.g,this.b),listen:t(this.b.S,this.b)},viewportWidth:i,viewportHeight:i,renderCallback:t(this.I,this)});window.V===i&&this.options.autoPlay&&this.play({ia:!1})},toggle:function(){this.p.n?this.pause():this.play()},play:function(){if(!this.p.n)this.b.g(this.B.Y),this.p.play(),window.V=this.options.id,this.a.k.innerHTML=this.r.ea,this.a.e.style.display=
"none"},pause:function(){if(this.p.n)this.b.g(this.B.X),this.p.pause(),this.a.k.innerHTML=this.r.j,this.a.e.style.display=""},I:function(a){this.a.c.innerHTML=a.fps?a.fps:"...";this.p.n&&window.V!==this.options.id&&this.pause()},aa:function(){this.a.l=N("div");O(this.a.l,{position:"relative",backgroundColor:"#444",border:"1px solid #111",maxWidth:this.options.width+"px",margin:"10px auto 10px auto",borderRadius:"0 0 5px 5px"});document.getElementById(this.options.id).appendChild(this.a.l);this.a.canvas=
N("canvas",{id:this.options.id+"_canvas",width:this.options.width,height:this.options.height});O(this.a.canvas,{width:"100%"});this.a.l.appendChild(this.a.canvas);if(!this.a.canvas.getContext)throw"Failed to create canvas element";this.K=this.a.canvas.getContext("2d");this.a.q=N("div");O(this.a.q,{backgroundColor:"#111",height:"22px",padding:"5px",textAlign:"left"});this.a.k=N("button");this.a.k.innerHTML=this.r.j;O(this.a.k,{backgroundColor:"#ff8000",color:"rgb(255,255,255)",borderRadius:"5px",border:"0px",
width:"70px",font:"12px Arial",fontWeight:"bold",marginRight:"10px",cursor:"hand"});X(this.a.k,"click",t(this.toggle,this));this.a.q.appendChild(this.a.k);this.a.D=N("span");this.a.D.innerHTML=this.options.title.toUpperCase();O(this.a.D,{color:"#ff8000",font:"12px Arial",fontWeight:"bold"});this.a.w=N("span");O(this.a.w,{color:"rgb(180,180,180)",font:"12px Arial",fontWeight:"bold"});this.a.w.appendChild(document.createTextNode(this.r.$+": "));this.a.w.appendChild(this.a.D);this.a.q.appendChild(this.a.w);
this.a.c=N("span");this.a.c.innerHTML="...";O(this.a.c,{color:"#ff8000",font:"12px Arial",fontWeight:"bold"});this.a.t=N("span");O(this.a.t,{color:"rgb(180,180,180)",font:"12px Arial","float":"right"});this.a.t.appendChild(document.createTextNode("FPS: "));this.a.t.appendChild(this.a.c);this.a.q.appendChild(this.a.t);this.a.l.appendChild(this.a.q);this.a.C=N("div");O(this.a.C,{backgroundColor:"#333",color:"#777",padding:"5px 5px 7px 5px",textAlign:"left",font:"12px Arial",borderRadius:"0 0 5px 5px"});
this.a.C.appendChild(document.createTextNode(this.options.description));this.a.l.appendChild(this.a.C);this.a.e=N("div");O(this.a.e,{backgroundColor:"rgba(0,0,0,0.35)",width:"100%",height:this.options.height+"px",position:"absolute",top:0,left:0,cursor:"hand"});this.a.j=N("div");this.a.j.innerHTML=this.r.da;O(this.a.j,{color:"#eee",fontSize:"64px",textAlign:"center",lineHeight:this.options.height+"px",margin:"auto auto auto auto",textShadow:"0px 0px 15px #222"});this.a.e.appendChild(this.a.j);this.a.l.appendChild(this.a.e);
X(this.a.e,"mousemove",t(this.play,this));X(this.a.e,"click",t(this.play,this))}};
